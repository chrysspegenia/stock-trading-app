<section class="pending-traders-wrapper">
  <header class="list-header">
    <h2>Pending Accounts</h2>
    <span><%= @pending_traders.length %></span>
    <i id="pending-toggle-list" class='bx bx-expand-vertical'></i>
  </header>

  <ul class="pending-traders-list">
    <% @pending_traders.each do |trader| %>
      <li class="trader">
        <span><%= trader.id %></span>
        <span><%= trader.first_name%> <%= trader.last_name%></span>
        <span><%= trader.email %></span>
        <%= button_to "Approve account", approve_admin_trader_path(trader), method: :post, class: "approve-btn" %>
      </li>
    <% end %>
  </ul>
</section>

<section class="approved-traders-wrapper">
  <header class="list-header">
      <h2>Trader Accounts</h2>
      <span><%= @traders.length %></span>
      <i id="approved-toggle-list" class='bx bx-expand-vertical'></i>
  </header>
  <div class="trader approved-list-header">
    <span>Account ID</span>
    <span>Name</span>
    <span>Email</span>
    <span>Balance</span>
    <span>Buttons</span>
  </div>

  <ul class="approved-traders-list">
    <% @traders.each do |trader| %>
      <li class="trader trader-data">
        <%= link_to(admin_trader_path(trader), class: "approved-trader-link") do %>
          <span><%= trader.id %></span>
          <span><%= trader.first_name%> <%= trader.last_name%></span>
          <span><%= trader.email %></span>
          <span><%= trader.balance %></span>
          <div class="trader-btns-wrapper">
            <%= link_to "Set Balance", balance_new_admin_trader_path(trader), class: "balance-btn" %>
            <%= button_to "Revoke account", approve_admin_trader_path(trader), method: :post, class: "revoke-btn" %>
          </div>
        <% end %>
      </li>
    <% end %>
  </ul>
</section>

<%# this method is only for creating initial admin %>
<%# <%= button_to "Grant Admin", grant_admin_path, method: :patch, data: { confirm: "Are you sure you want to grant admin status to this user?" } %>
